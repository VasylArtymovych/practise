{"version":3,"sources":["JS/NewsApiServise.js","JS/load-more-artiicels.js","index.js"],"names":["NewsApiService","constructor","searchQuery","page","fetchArticels","options","url","fetch","headers","then","response","json","data","incrementPage","query","newQuery","resetPage","LoadMoreArticels","selector","refs","getrefs","loadMoreBtn","document","querySelector","label","show","hide","searchForm","searchBtn","newsApiServise","loadMoreArticels","onSubmit","evt","preventDefault","search","currentTarget","elements","value","alert","reset","onSearchMoreBtn","addEventListener"],"mappings":";;;AAAmC,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAApB,MAAMA,EACjBC,cACSC,KAAAA,YAAc,GACdC,KAAAA,KAAO,EAGhBC,gBACUC,MAKAC,yCAA6C,KAAKJ,+CAA+C,KAAKC,OAE5GI,MAAMD,EAPU,CACZE,QAAU,CACO,YAAA,sCAMpBC,KAAKC,GAAYA,EAASC,QAC1BF,KAAMG,IACEC,KAAAA,kBAITC,YACO,OAAA,KAAKZ,YAGZY,UAAMC,GACDb,KAAAA,YAAca,EAGvBF,gBACSV,KAAAA,MAAQ,EAGjBa,YACSb,KAAAA,KAAO,GAlCe,QAAA,QAAA;;ACAE,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAtB,MAAMc,EACjBhB,aAAY,SAACiB,IACJC,KAAAA,KAAO,KAAKC,QAAQF,GAG7BE,QAAQF,GACEC,MAAAA,EAAO,GAINA,OAHPA,EAAKE,YAAcC,SAASC,cAAcL,GAC1CC,EAAKK,MAAQL,EAAKE,YAAYE,cAAc,UAErCJ,EAGXM,QAEAC,SAfiC,QAAA,QAAA;;AC8BpC,aA9BD,QAAA,oBACA,IAAA,EAAA,EAAA,QAAA,wBACA,EAAA,EAAA,QAAA,6BA4BC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA1BD,MAAMP,EAAO,CACTQ,WAAYL,SAASC,cAAc,eACnCK,UAAWN,SAASC,cAAc,gBAClCF,YAAaC,SAASC,cAAc,sBAGlCM,EAAiB,IAAI7B,EAAJ,QACjB8B,EAAmB,IAAIb,EAAJ,QAAqB,CAACC,SAAU,8BAKzD,SAASa,EAASC,GACdA,EAAIC,iBACEC,MAAAA,EAASF,EAAIG,cAAcC,SAAStB,MAAMuB,MAE7CH,GAAW,KAAXA,EAAe,OAAOI,MAAM,0BAE/BT,EAAef,MAAQoB,EACvBL,EAAeb,YACfa,EAAezB,gBACf4B,EAAIG,cAAcI,QAGtB,SAASC,IACLX,EAAezB,gBAhBnBe,EAAKE,YAAYoB,iBAAiB,QAASD,GAC3CrB,EAAKQ,WAAWc,iBAAiB,SAAUV","file":"src.335dc915.js","sourceRoot":"../src","sourcesContent":["export default class NewsApiService{\n    constructor(){\n        this.searchQuery = ''\n        this.page = 1;\n    }\n\n    fetchArticels(){\n        const options = {\n            headers : {\n                'X-Api-Key': \"8868dd2683f64984b0e4e94bab24faa3\"\n            }\n        }\n        const url = `https://newsapi.org/v2/everything?q=${this.searchQuery}&language='en'&pageSize='5'$page=${this.page}`;\n\n        fetch(url, options)\n        .then(response => response.json())\n        .then((data) => {\n            this.incrementPage();\n        })\n    }\n\n    get query(){\n        return this.searchQuery;\n    }\n\n    set query(newQuery){\n        this.searchQuery = newQuery;\n    }\n\n    incrementPage(){\n        this.page += 1;\n    }\n\n    resetPage(){\n        this.page = 1;\n    }\n\n}","export default class LoadMoreArticels{\n    constructor({selector}){\n        this.refs = this.getrefs(selector);\n    }\n\n    getrefs(selector){\n        const refs = {}\n        refs.loadMoreBtn = document.querySelector(selector);\n        refs.label = refs.loadMoreBtn.querySelector('.label')\n\n        return refs;\n    }\n\n    show(){}\n\n    hide(){}\n}","import './css/styles.css';\nimport NewsApiService from './JS/NewsApiServise';\nimport LoadMoreArticels from './JS/load-more-artiicels';\n\nconst refs = {\n    searchForm: document.querySelector('#fetch-form'),\n    searchBtn: document.querySelector('.js-btn-subm'),\n    loadMoreBtn: document.querySelector('.js-load-more-btn')\n}\n\nconst newsApiServise = new NewsApiService();\nconst loadMoreArticels = new LoadMoreArticels({selector: '[data-action=\"load-more\"]'})\n\nrefs.loadMoreBtn.addEventListener('click', onSearchMoreBtn)\nrefs.searchForm.addEventListener('submit', onSubmit);\n\nfunction onSubmit(evt){\n    evt.preventDefault();\n    const search = evt.currentTarget.elements.query.value;\n\n    if(search === '') return alert('fill the search field!');\n\n    newsApiServise.query = search;\n    newsApiServise.resetPage()\n    newsApiServise.fetchArticels()\n    evt.currentTarget.reset()\n}\n\nfunction onSearchMoreBtn(){\n    newsApiServise.fetchArticels()\n}"]}